server:
  port: 8000

# JWT ì‹œí¬ë¦¿ í‚¤ ì„¤ì • (Kubernetes Secretì—ì„œ ê°’ì„ ì£¼ì…ë°›ìŒ)
jwt:
  secret: ${JWT_SECRET_KEY}

spring:
  application:
    name: api-gateway
  cloud:
    gateway:
      default-filters:
        - StripPrefix=1

      routes:
        # 1. User Service ë¼ìš°íŒ…
        - id: user-service-route
          uri: lb://user-service
          predicates:
            - Path=/api/user/**

        # 2. Vote Service ë¼ìš°íŒ…
        - id: vote-service-route
          uri: lb://vote-service
          predicates:
            - Path=/api/vote/**

        # 3. Trading Service ë¼ìš°íŒ…
        - id: trading-service-route
          uri: lb://trading-service
          predicates:
            - Path=/api/trading/**

        # 4. Pay Service ë¼ìš°íŒ…
        - id: pay-service-route
          uri: lb://pay-service
          predicates:
            - Path=/api/pay/**

  data:
    redis:
      host: ${SPRING_DATA_REDIS_HOST:localhost}
      port: 6379
      password: ${SPRING_DATA_REDIS_PASSWORD:}

---
# ===============================================
# ğŸŒ³ dev í”„ë¡œíŒŒì¼ (ê°œë°œ í™˜ê²½)
# ===============================================
spring:
  config:
    activate:
      on-profile: "dev"
  data:
    redis:
      host: ${app.redis.host:localhost}
      port: ${app.redis.port:6379}
      password: ${app.redis.password:togather1234}

jwt:
  secret: ${app.jwt.secret:TogatherSecretkey}

server:
  port: 8000